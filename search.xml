<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>python学习笔记1_基本语法</title>
      <link href="2020/10/12/python-xue-xi-bi-ji-1-ji-ben-yu-fa/"/>
      <url>2020/10/12/python-xue-xi-bi-ji-1-ji-ben-yu-fa/</url>
      
        <content type="html"><![CDATA[<h4 id="编码："><a href="#编码：" class="headerlink" title="编码："></a>编码：</h4><p>默认情况下，Python 3 源码文件以 <strong>UTF-8</strong> 编码，所有字符串都是 unicode 字符串。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: cp-1252 -*-</span><br></pre></td></tr></tbody></table></figure><p>定义允许在源文件中使用 Windows-1252 字符集中的字符编码，对应适合语言为保加利亚语、白罗斯语、马其顿语、俄语、塞尔维亚语。</p><h4 id="python保留字"><a href="#python保留字" class="headerlink" title="python保留字"></a>python保留字</h4><p>Python 的标准库提供了一个 keyword 模块，可以输出当前版本的所有关键字：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import keyword</span><br><span class="line">&gt;&gt;&gt; keyword.kwlist</span><br><span class="line">['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']</span><br></pre></td></tr></tbody></table></figure><h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>Python中单行注释以 <strong>#</strong> 开头，实例如下：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 第一个注释</span><br></pre></td></tr></tbody></table></figure><p>多行注释可以用多个 <strong>#</strong> 号，还有 <strong>‘’’</strong> 和 **”””**：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3  </span><br><span class="line"># 第一个注释 </span><br><span class="line"># 第二个注释  </span><br><span class="line">''' </span><br><span class="line">第三注释 </span><br><span class="line">第四注释 </span><br><span class="line">'''  </span><br><span class="line">""" </span><br><span class="line">第五注释 </span><br><span class="line">第六注释 </span><br><span class="line">""" </span><br><span class="line">print ("Hello, Python!")</span><br></pre></td></tr></tbody></table></figure><h4 id="行与缩进"><a href="#行与缩进" class="headerlink" title="行与缩进"></a>行与缩进</h4><p>python最具特色的就是使用缩进来表示代码块，不需要使用大括号 <strong>{}</strong> 。</p><p>缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。</p><h4 id="多行语句"><a href="#多行语句" class="headerlink" title="多行语句"></a>多行语句</h4><p>Python 通常是一行写完一条语句，但如果语句很长，我们可以使用反斜杠()来实现多行语句</p><p>在 [], {}, 或 () 中的多行语句，不需要使用反斜杠()</p><h4 id="数字-Number-类型"><a href="#数字-Number-类型" class="headerlink" title="数字(Number)类型"></a>数字(Number)类型</h4><p>python中数字有四种类型：整数、布尔型、浮点数和复数。</p><ul><li><strong>int</strong> (整数), 如 1, 只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</li><li><strong>bool</strong> (布尔), 如 True。</li><li><strong>float</strong> (浮点数), 如 1.23、3E-2</li><li><strong>complex</strong> (复数), 如 1 + 2j、 1.1 + 2.2j</li></ul><h4 id="字符串-String"><a href="#字符串-String" class="headerlink" title="字符串(String)"></a>字符串(String)</h4><ul><li>python中单引号和双引号使用完全相同。</li><li>使用三引号(‘’’或”””)可以指定一个多行字符串。</li><li>转义符 ‘'</li><li>反斜杠可以用来转义，使用r可以让反斜杠不发生转义。。 如 r”this is a line with \n” 则\n会显示，并不是换行。</li><li>按字面意义级联字符串，如”this “ “is “ “string”会被自动转换为this is string。</li><li>字符串可以用 + 运算符连接在一起，用 * 运算符重复。</li><li>Python 中的字符串有两种索引方式，从左往右以 0 开始，从右往左以 -1 开始。</li><li>Python中的字符串不能改变。</li><li>Python 没有单独的字符类型，一个字符就是长度为 1 的字符串。</li><li>字符串的截取的语法格式如下：<strong>变量[头下标:尾下标:步长]</strong></li></ul><h4 id="等待用户输入"><a href="#等待用户输入" class="headerlink" title="等待用户输入"></a>等待用户输入</h4><p>执行下面的程序在按回车键后就会等待用户输入：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input("\n\n按下 enter 键后退出。")</span><br></pre></td></tr></tbody></table></figure><p>以上代码中 ，”\n\n”在结果输出前会输出两个新的空行</p><h4 id="同一行显示多条语句"><a href="#同一行显示多条语句" class="headerlink" title="同一行显示多条语句"></a>同一行显示多条语句</h4><p>语句之间使用分号(;)分割</p><h4 id="多个语句构成代码组"><a href="#多个语句构成代码组" class="headerlink" title="多个语句构成代码组"></a>多个语句构成代码组</h4><p>缩进相同的一组语句构成一个代码块，我们称之代码组。</p><p>像if、while、def和class这样的复合语句，首行以关键字开始，以冒号( : )结束，该行之后的一行或多行代码构成代码组。</p><p>将首行及后面的代码组称为一个子句(clause)。</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if expression : </span><br><span class="line">   suite</span><br><span class="line">elif expression : </span><br><span class="line">   suite </span><br><span class="line">else : </span><br><span class="line">   suite</span><br></pre></td></tr></tbody></table></figure><h4 id="Print-输出"><a href="#Print-输出" class="headerlink" title="Print 输出"></a>Print 输出</h4><p>print 默认输出是换行的，如果要实现不换行需要在变量末尾加上 <strong>end=””</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python3  </span><br><span class="line">x="a" </span><br><span class="line">y="b" </span><br><span class="line"># 换行输出 </span><br><span class="line">print( x ) </span><br><span class="line">print( y )  </span><br><span class="line">print('---------') </span><br><span class="line"># 不换行输出 </span><br><span class="line">print( x, end=" " ) </span><br><span class="line">print( y, end=" " ) </span><br><span class="line">print()</span><br></pre></td></tr></tbody></table></figure><p>执行结果为</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">---------</span><br><span class="line">a b</span><br></pre></td></tr></tbody></table></figure><h4 id="import-与-from…import"><a href="#import-与-from…import" class="headerlink" title="import 与 from…import"></a>import 与 from…import</h4><p>在 python 用 <strong>import</strong> 或者 <strong>from…import</strong> 来导入相应的模块。</p><p>将整个模块(somemodule)导入，格式为： <strong>import somemodule</strong></p><p>从某个模块中导入某个函数,格式为： <strong>from somemodule import somefunction</strong></p><p>从某个模块中导入多个函数,格式为： <strong>from somemodule import firstfunc, secondfunc, thirdfunc</strong></p><p>将某个模块中的全部函数导入，格式为： <strong>from somemodule import *</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from sys import argv,path  #  导入特定的成员  </span><br><span class="line">print('================python from import===================================') </span><br><span class="line">print('path:',path) # 因为已经导入path成员，所以此处引用时不需要加sys.path</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import sys </span><br><span class="line">print('================Python import mode==========================') </span><br><span class="line">print ('命令行参数为:') </span><br><span class="line">for i in sys.argv:</span><br><span class="line">print (i) </span><br><span class="line">print ('\n python 路径为',sys.path)</span><br></pre></td></tr></tbody></table></figure><p>参考《<a href="https://www.runoob.com/python3/python3-basic-syntax.html">Python3 基础语法</a>》</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Debian部署Samba共享文件</title>
      <link href="2020/10/11/debian-bu-shu-samba-gong-xiang-wen-jian/"/>
      <url>2020/10/11/debian-bu-shu-samba-gong-xiang-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>​        Samba是在Linux和UNIX系统上实现SMB协议的一个免费软件，由服务器及客户端程序构成。Linux下的Samba服务主要用于Windows平台和linux平台下载局域网内实现文件共享。只包含一个配置文件，方便部署。</p><p><strong>一、安装samba</strong></p><p>​        在root权限下执行<code>apt-get install samba</code></p><p><strong>二、创建共享目录</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/download                  //创建要共享的目录</span><br><span class="line"></span><br><span class="line">chmod 777 /usr/download              //修改权限</span><br></pre></td></tr></tbody></table></figure><p><strong>三、 配置文件</strong></p><p>​         配置文件在/etc/samba/smb.conf</p><p>​        有三个特殊块[global]、[homes]、[printers]具体有以下内容:</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[global]:此块中的参数作用于整个server，或作为其他块中没有定义的一些参数的默认值。参见参数PARAMETERS以获取更多信息。</span><br><span class="line">[homes]:如果配置文件中有[homes]块，则会把此用户的home路径共享到此处，既可以访问当前samba用户对应的home文件夹。</span><br><span class="line">[printer]:这个用于共享打印服务，很少用到。</span><br></pre></td></tr></tbody></table></figure><p><strong>注意：每次修改了配置文件之后先运行<code>testparm</code>来检测语法</strong></p><p>​           <strong>修改完后执行 <code>service smdb restart</code> 或 <code>systemctl restart smbd.service</code>重启服务使其生效</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">======================= Global Settings =======================</span><br><span class="line">[global]</span><br><span class="line">   workgroup = WORKGROUP</span><br><span class="line">   log file = /var/log/samba/log.%m</span><br><span class="line">   max log size = 1000</span><br><span class="line">   logging = file</span><br><span class="line">   panic action = /usr/share/samba/panic-action %d</span><br><span class="line">   server role = standalone server</span><br><span class="line">   obey pam restrictions = yes</span><br><span class="line">   unix password sync = yes</span><br><span class="line">   passwd program = /usr/bin/passwd %u</span><br><span class="line">   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .</span><br><span class="line">   pam password change = yes</span><br><span class="line">   map to guest = bad user</span><br><span class="line">   usershare allow guests = yes</span><br><span class="line"></span><br><span class="line">======================= Share Definitions =======================</span><br><span class="line">[homes]</span><br><span class="line">   comment = Home Directories</span><br><span class="line">   browseable = no</span><br><span class="line">   read only = yes</span><br><span class="line">   create mask = 0700</span><br><span class="line">   directory mask = 0700</span><br><span class="line">   valid users = %S</span><br><span class="line">[anonymous]</span><br><span class="line">   path = /usr/download </span><br><span class="line">   force group = users</span><br><span class="line">   create mask = 0660</span><br><span class="line">   directory mask = 0771</span><br><span class="line">   browsable =yes</span><br><span class="line">   writable = yes</span><br><span class="line">   guest ok = yes</span><br></pre></td></tr></tbody></table></figure><hr><p><strong>解析：</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">config file = /etc/samba/smb.conf.%U          #可以让你使用另一个配置文件来覆盖缺省的配置文件。如                                                 果文件 不存在，则该项无效。</span><br><span class="line">workgroup = WORKGROUP               　　       #工作组名称</span><br><span class="line">server string = Samba Server Version %v  　 　 #主机的简易说明</span><br><span class="line">netbios name = MYSERVER                   #主机的netBIOS名称，如果不填写则默认服务器DNS的一部                                               分，workgroup和netbios name名字不要设置成一样</span><br><span class="line">interfaces = lo eth0 192.168.12.2/24 192.168.13.2/24     #设置samba服务器监听网卡，可以写网卡名                                                          称或IP地址，默认注释</span><br><span class="line">hosts allow = 127. 192.168.12. 192.168.13.               #设置允许连接到samba服务器的客户端，默                                                          认注释</span><br><span class="line">hosts deny =192.168.12.0/255.255.255.0       #设置不允许连接到samba服务器的客户端，默认注释</span><br><span class="line">log level =1                                 #日志文件安全级别，0~10级别，默认0</span><br><span class="line">log file = /var/log/samba/%m  　　　　　  #产生日志文件的命名，默认以访问者IP地址命名</span><br><span class="line">max log size = 50   　　　　　　　#日志文件最大容量50，默认50，单位为KB，0表示不限制</span><br><span class="line">security = share   　　　　　　　　　　　　　　　#设置用户访问samba服务器的验证方式 ，一共四种验证方式。</span><br><span class="line">1. share：用户访问Samba Server不需要提供用户名和口令, 安全性能较低。</span><br><span class="line">2. user：Samba Server共享目录只能被授权的用户访问,由Samba Server负责检查账号和密码的正确性。账号和密码要在本Samba Server中建立。</span><br><span class="line">3. server：依靠其他Windows NT/2000或Samba Server来验证用户的账号和密码,是一种代理验证。此种安全模式下,系统管理员可以把所有的Windows用户和口令集中到一个NT系统上,使用Windows NT进行Samba认证, 远程服务器可以自动认证全部用户和口令,如果认证失败,Samba将使用用户级安全模式作为替代的方式。</span><br><span class="line">4. domain：域安全级别,使用主域控制器(PDC)来完成认证。</span><br><span class="line"></span><br><span class="line">passdb backend = tdbsam   　　　　　　　　　　　　#定义用户后台类型</span><br><span class="line">1、smbpasswd:使用SMB服务的smbpasswd命令给系统用户设置SMB密码</span><br><span class="line">2、tdbsam:创建数据库文件并使用pdbedit建立SMB独立用户，smbpasswd –a username建立samba用户并设置密码，不过建立samba用户必须先建立系统用户</span><br><span class="line">使用以下命令添加新用户</span><br><span class="line">    useradd tom -m -G users</span><br><span class="line">再使用</span><br><span class="line">    smbpasswd -a tom</span><br><span class="line">3、ldapsam:基于LDAP服务进行账户验证</span><br><span class="line">username map = /etc/samba/smbusers   #配合/etc/samba/smbusers文件设置虚拟用户</span><br></pre></td></tr></tbody></table></figure><hr><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[share]         　　　　　　　　　　　　　　　　　　　　　#自定义共享名称</span><br><span class="line">comment =  This is share software       　　　　　　 #共享描述</span><br><span class="line">path  =  /home/testfile                            #共享目录路径</span><br><span class="line">browseable  =  yes/no                      　　　　　#设置共享是否可浏览，如果no就表示隐藏，需要通过IP+共享名称进行访问</span><br><span class="line">writable  =  yes/no  　　　　　　　　　　　　　　　　　　#设置共享是否具有可写权限</span><br><span class="line">read only  =  yes/no  　　　　　　　　　　　　　　　　　#设置共享是否具有只读权限</span><br><span class="line">admin users  =  root 　　　　　　　　　　　　　　　　　　#设置共享的管理员，如果security =share 时，引项无效，多用户中间使用逗号隔开，例如admin users = root,user1,user2</span><br><span class="line">valid users  =  username  　　　　　　　　　　　　　　　#设置允许访问共享的用户，例如valid users = user1,user2,@group1,@group2（多用户或组使用逗号隔开，@group表示group用户组）</span><br><span class="line">invalid users  =  username     　　　　　　　　　　　　#设置不允许访问共享的用户</span><br><span class="line">write list  =  username   　　　　　　　　　　　　　　　#设置在共享具有写入权限的用户，例如例如write list  = user1,user2,@group1,@group2（多用户或组使用逗号隔开，@group表示group用户组）</span><br><span class="line">public  =  yes/no   　　　　　　　　　　　　　　　　　　　#设置共享是否允许guest账户访问</span><br><span class="line">guest  ok  =  yes/no  　　　　　　　　　　　　　　　　　　#功能同public 一样</span><br><span class="line">create mask = 0700                  　　　　　　　　　#创建的文件权限为700</span><br><span class="line">directory mode = 0700               　　　　　　　　　#创建的文件目录为 700</span><br></pre></td></tr></tbody></table></figure><p>参考文章：《<a href="https://www.cnblogs.com/zoulongbin/p/7216246.html">samba服务配置（一）</a>》</p><p>​                   《<a href="https://www.howtoing.com/debian-samba-server">在Debian 8上安装Samba服务器</a>》</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
